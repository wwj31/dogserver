syntax = "proto3";
package inner;
option  go_package = "/inner";
import "base.proto";

message RoomInfo{
  int32      RoomId           = 1;
  int32      GameType         = 2;
  int64      CreatorShortId   = 3; // 创建者
  repeated PlayerInfo Players = 4;
}

// 创建房间
message CreateRoomReq{
  int32      GameType = 1; // 游戏类型
  PlayerInfo Creator  = 2; // 创建者
}
message CreateRoomRsp{
  RoomInfo RoomInfo = 1;
}

// 解散房间
message DisbandRoomReq{
  int32 RoomId = 1;
}
message DisbandRoomRsp{
}

// 获得房间基础信息
message RoomInfoReq{
}
message RoomInfoRsp{
  RoomInfo RoomInfo = 1;
}

// 加入房间
message JoinRoomReq{
  PlayerInfo Player = 1; // 加入者
}
message JoinRoomRsp{
  RoomInfo RoomInfo = 1;
}

// 离开房间
message LeaveRoomReq{
  int64 ShortId = 1;
}
message LeaveRoomRsp{
}

// 玩家上线，通知房间
message RoomLoginReq{
  PlayerInfo Player = 1;
}
message RoomLoginRsp{
  int32 Err         = 1;
  RoomInfo RoomInfo = 2;
}

message RoomLogoutReq{
  int64 ShortId = 1;
}
message RoomLogoutRsp{
}
