syntax = "proto3";
package outer;
option  go_package = "/outer";

import "base.proto";
import "type.proto";

// 房间信息
message RoomInfo {
    int32 Id                    = 1;
    GameType GameType           = 2;
    repeated PlayerInfo Players = 3; // 房间内的成员信息
}

// 创建房间
message CreateRoomReq {// tag:player
    GameType GameType = 1;
}
message CreateRoomRsp {
    RoomInfo Room = 1;
}

// 解散房间
message DisbandRoomReq {// tag:player
    int32 Id = 1;
}
message DisbandRoomRsp {
    int32 Id = 1;
}

// 房间列表
message RoomListReq {// tag:player
}
message RoomListRsp {
    repeated RoomInfo RoomList = 1;
}

// 加入房间
message JoinRoomReq {// tag:player
    int32 RoomId = 1;
}
message JoinRoomRsp {
    RoomInfo Room = 1;
}

// 离开房间
message LeaveRoomReq {// tag:player
}
message LeaveRoomRsp {
}


// 通知类消息
message RoomPlayerEnterNtf {// 房间进入新玩家通知
    PlayerInfo Player = 1;
}
message RoomPlayerLeaveNtf {// 房间内玩家离开通知
    int64 ShortId = 1;
}
message RoomPlayerOnlineNtf {// 房间内玩家上、下线通知
    bool Online = 1; // true在线、false离线
}
